(function(n){var t={};function e(r){if(t[r]){return t[r].exports}var i=t[r]={i:r,l:false,exports:{}};n[r].call(i.exports,i,i.exports,e);i.l=true;return i.exports}e.m=n;e.c=t;e.d=function(n,t,r){if(!e.o(n,t)){Object.defineProperty(n,t,{enumerable:true,get:r})}};e.r=function(n){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(n,"__esModule",{value:true})};e.t=function(n,t){if(t&1)n=e(n);if(t&8)return n;if(t&4&&typeof n==="object"&&n&&n.__esModule)return n;var r=Object.create(null);e.r(r);Object.defineProperty(r,"default",{enumerable:true,value:n});if(t&2&&typeof n!="string")for(var i in n)e.d(r,i,function(t){return n[t]}.bind(null,i));return r};e.n=function(n){var t=n&&n.__esModule?function t(){return n["default"]}:function t(){return n};e.d(t,"a",t);return t};e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)};e.p="";return e(e.s=0)})([function(n,t,e){"use strict";e.r(t);
/*!
 * Babylon MeshWriter
 * https://github.com/briantbutton/meshwriter
 * (c) 2018-2021 Brian Todd Button
 * Released under the MIT license
 */t["default"]=define(["./fonts/hirukopro-book","./fonts/helveticaneue-medium","./fonts/comicsans-normal","./fonts/jura-demibold","./fonts/webgl-dings"],(function(t,e,r,i,u){var f,o,a,c,l,s,v=Math.floor,h,w,b,y,d,p;var N,m;var M=require("earcut");var g={},j=["Vector2","Vector3","Path2","Curve3","Color3","SolidParticleSystem","PolygonMeshBuilder","CSG","StandardMaterial","Mesh"];Y();h=t(k);w=e(k);b=r(k);y=i(k);d=u(k);o={};o["HirukoPro-Book"]=h;o["HelveticaNeue-Medium"]=w;o["Helvetica"]=w;o["Arial"]=w;o["sans-serif"]=w;o["Comic"]=b;o["comic"]=b;o["ComicSans"]=b;o["Jura"]=y;o["jura"]=y;o["WebGL-Dings"]=d;o["Web-dings"]=d;a="#808080";c=1;s=6;l=1e3;var O=function(){var n,t,e,r,i;f=arguments[0];i=x(arguments);t=D(o[i.defaultFont])?i.defaultFont:"HelveticaNeue-Medium";r=i.meshOrigin==="fontOrigin"?i.meshOrigin:"letterCenter";e=H(i.scale)?i.scale:1;p=U(i.debug)?i.debug:false;function MeshWriter(n,i){var u,s,v,h,w,b,y,d,p,N;var m=D(i)?i:{},M=_(m,"position",D,{}),g=_(m,"colors",D,{}),j=_(m,"font-family",Q,t),O=_(m,"anchor",R,"left"),B=_(m,"letter-height",G,100),C=_(m,"letter-thickness",G,1),k=_(m,"color",K,a),L=_(m,"alpha",W,c),P=_(M,"y",H,0),Y=_(M,"x",H,0),x=_(M,"z",H,0),I=_(g,"diffuse",K,"#F0F0F0"),V=_(g,"specular",K,"#000000"),q=_(g,"ambient",K,"#F0F0F0"),z=_(g,"emissive",K,k),E=o[j],U=Z(e*B/l),J=Z(e*C),T=K(n)?n:"";u=S(f,T,z,q,V,I,L);s=F(T,E,0,0,0,U,J,u,r);h=s[0];w=s[1];b=s[2];N=s.xWidth;y=A(f,s,u);d=y[0];p=y[1];v=O==="right"?0-N:O==="center"?0-N/2:0;p.position.x=e*Y+v;p.position.y=e*P;p.position.z=e*x;this.getSPS=()=>d;this.getMesh=()=>p;this.getMaterial=()=>u;this.getOffsetX=()=>v;this.getLettersBoxes=()=>w;this.getLettersOrigins=()=>b;this.color=n=>K(n)?color=n:color;this.alpha=n=>W(n)?L=n:L;this.clearall=function(){d=null;p=null;u=null}}n=MeshWriter.prototype;n.setColor=function(n){var t=this.getMaterial();if(K(n)){t.emissiveColor=q(this.color(n))}};n.setAlpha=function(n){var t=this.getMaterial();if(W(n)){t.alpha=this.alpha(n)}};n.overrideAlpha=function(n){var t=this.getMaterial();if(W(n)){t.alpha=n}};n.resetAlpha=function(){var n=this.getMaterial();n.alpha=this.alpha()};n.getLetterCenter=function(n){return new g.Vector2(0,0)};n.dispose=function(){var n=this.getMesh(),t=this.getSPS(),e=this.getMaterial();if(t){t.dispose()}this.clearall()};MeshWriter.codeList=k;MeshWriter.decodeList=C;return MeshWriter};if(typeof window!=="undefined"){window.TYPE=O;window.MeshWriter=O}if(typeof global!=="undefined"){global.MeshWriter=O}if(typeof BABYLON==="object"){I(BABYLON);BABYLON.MeshWriter=O}if(typeof n==="object"&&n.exports){n.exports=O}return O;function A(n,t,e){var r=t[0],i=t[2],u,f;if(r.length){u=new g.SolidParticleSystem("sps"+"test",n,{enableMultiMaterial:true,updatable:true});r.forEach((function(n,t){u.addShape(n,1,{positionFunction:o(i[t])});n.dispose()}));f=u.buildMesh();f.material=e;u.setParticles()}return[u,f];function o(n){return function t(e,r,i){e.position.x=n[0]+n[1];e.position.z=n[2]}}}function F(n,t,e,r,i,u,o,a,c){var l=0,s=new Array(n.length),v=new Array(n.length),h=new Array(n.length),w=0,b,y,d,N,m,j,O,A,F,S;for(S=0;S<n.length;S++){b=n[S];y=B(t,b);if(D(y)){d=C(b,S,y,t.reverseShapes,t.reverseHoles);N=d[0];m=d[1];O=d[2];A=d[3];j=k(N,m);if(j.length){h[w]=E(j);s[w]=A;v[w]=O;w++}}}F=[h,v,s];F.xWidth=Z(l);F.count=w;return F;function C(n,t,r,a,s){var v=c==="letterCenter",h=(r.u+r.v)/2,w=(r.h+r.N)/2,b=H(r.xFactor)?r.xFactor:1,y=H(r.yFactor)?r.yFactor:1,d=H(r.xShift)?r.xShift:0,N=H(r.yShift)?r.yShift:0,m=U(r.reverseShape)?r.reverseShape:a,j=U(r.reverseHole)?r.reverseHole:s,O=e-(v?h:0),A=i-(v?w:0),F=J(r.shapeCmds)?r.shapeCmds:[],S=J(r.holeCmds)?r.holeCmds:[],B,C;var k=un(u,b,O,0,false,true),L=un(u,y,A,0,false,false),P=un(u,b,O,d,false,true),Y=un(u,y,A,N,false,false),x=un(u,b,O,d,true,true),I=un(u,y,A,N,true,false),V,_,q,E,G=NaN,W=NaN,D=NaN,K=NaN,Q=NaN,R=NaN,$=NaN,nn=NaN;B=[k(r.u),k(r.v),L(r.h),L(r.N)];C=[Z(l),-1*k(0),-1*L(0)];l=l+r.M*u;if(p&&r.show){console.log([G,W,D,K]);console.log([Q,R,$,nn])}return[F.map(en(m)),S.map(tn),B,C];function tn(n){return n.map(en(j))}function en(e){return function r(i){var u=rn(i,0),a=new g.Path2(P(u[0]),Y(u[1])),c,l,s,v,h=0;for(s=1;s<i.length;s++){u=rn(i,s);if(u.length===2){a.addLineTo(P(u[0]),Y(u[1]))}if(u.length===3){a.addLineTo(x(u[1]),I(u[2]))}if(u.length===4){a.addQuadraticCurveTo(P(u[0]),Y(u[1]),P(u[2]),Y(u[3]))}if(u.length===5){a.addQuadraticCurveTo(x(u[1]),I(u[2]),x(u[3]),I(u[4]))}if(u.length===6){a.addCubicCurveTo(P(u[0]),Y(u[1]),P(u[2]),Y(u[3]),P(u[4]),Y(u[5]))}if(u.length===7){a.addCubicCurveTo(x(u[1]),I(u[2]),x(u[3]),I(u[4]),x(u[5]),I(u[6]))}}c=a.getPoints().map(z);v=c.length-1;if(c[h].x===c[v].x&&c[h].y===c[v].y){c=c.slice(1)}if(e){c.reverse()}l=new g.PolygonMeshBuilder("MeshWriter-"+n+t+"-"+X(),c,f,M);return l.build(true,o)}}function rn(n,t){var e,r;_=V;E=q;e=n[t];r=e.length;V=T(r)?Z(e[r-2]*b+V):Z(e[r-2]*b);q=T(r)?Z(e[r-1]*y+q):Z(e[r-1]*y);G=V>G?G:V;W=V<W?W:V;Q=V+d>Q?Q:V+d;R=V+d<R?R:V+d;D=q>D?D:q;K=q<K?K:q;$=q+N>$?$:q+N;nn=q+N<nn?nn:q+N;return e}function un(n,t,e,r,i,u){if(i){if(u){return i=>Z(n*(i*t+r+_+e))}else{return i=>Z(n*(i*t+r+E+e))}}else{return i=>Z(n*(i*t+r+e))}}}function k(n,t){var e=[],r;for(r=0;r<n.length;r++){let i=n[r];let u=t[r];if(J(u)&&u.length){e.push(L(i,u,b,S))}else{e.push(i)}}return e}function L(n,t,e,r){var i=g.CSG.FromMesh(n),u;for(u=0;u<t.length;u++){i=i.subtract(g.CSG.FromMesh(t[u]))}t.forEach((n=>n.dispose()));n.dispose();return i.toMesh("Net-"+e+r+"-"+X())}}function S(n,t,e,r,i,u,f){var o=new g.StandardMaterial("mw-matl-"+t+"-"+X(),n);o.diffuseColor=q(u);o.specularColor=q(i);o.ambientColor=q(r);o.emissiveColor=q(e);o.alpha=f;return o}function B(n,t){var e=n[t],r=n=>C(n),i=n=>J(n)?n.map(r):n;if(D(e)){if(!J(e.shapeCmds)&&J(e.sC)){e.shapeCmds=e.sC.map(r);e.sC=null}if(!J(e.holeCmds)&&J(e.hC)){e.holeCmds=e.hC.map(i);e.hC=null}}return e}function C(n){var t=n.split(" "),e=[];t.forEach((function(n){if(n.length===12){e.push(r(n))}if(n.length===8){e.push(i(n))}if(n.length===4){e.push(u(n))}}));return e;function r(n){return[f(n,0,2),f(n,2,4),f(n,4,6),f(n,6,8),f(n,8,10),f(n,10,12)]}function i(n){return[f(n,0,2),f(n,2,4),f(n,4,6),f(n,6,8)]}function u(n){return[f(n,0,2),f(n,2,4)]}function f(n,t,e){return(L(n.substring(t,e))-4e3)/2}}function k(n){var t="",e="";if(J(n)){n.forEach((function(n){if(n.length===6){t+=e+r(n);e=" "}if(n.length===4){t+=e+i(n);e=" "}if(n.length===2){t+=e+u(n);e=" "}}))}return t;function r(n){return f(n[0])+f(n[1])+f(n[2])+f(n[3])+f(n[4])+f(n[5])}function i(n){return f(n[0])+f(n[1])+f(n[2])+f(n[3])}function u(n){return f(n[0])+f(n[1])}function f(n){return P(n+n+4e3)}}function L(n){var t=0,e=-1,r=n.length-1;while(e++<r){t=t*128+N[n.charCodeAt(e)]}return t}function P(n){var t=m[n%128];n=v(n/128);while(n>0){t=m[n%128]+t;n=v(n/128)}return t}function Y(){var n=-1,t;N=new Uint8Array(256);m=new Array(128);while(160>n++){if(n<128){t=e(n);m[n]=String.fromCharCode(t);N[t]=n}else{if(n===128){N[32]=n}else{N[n+71]=n}}}function e(n){if(n<92){return n<58?n<6?n+33:n+34:n+35}else{return n+69}}}function x(n){var t={},e;if(D(e=n[1])){if(e["default-font"]){t.defaultFont=e["default-font"]}else{if(e.defaultFont){t.defaultFont=e.defaultFont}}if(e["mesh-origin"]){t.meshOrigin=e["mesh-origin"]}else{if(e.meshOrigin){t.meshOrigin=e.meshOrigin}}if(e.scale){t.scale=e.scale}if(U(e.debug)){t.debug=e.debug}I(e.methods);return t}else{return{defaultFont:n[2],scale:n[1],debug:false}}}function I(n){var t=false;if(D(n)){j.forEach((function(e){if(D(n[e])){g[e]=n[e]}else{t=e}}));if(!t){V()}}if(K(t)){throw new Error("Missing method '"+t+"'")}}function V(){if(D(g.Path2)){if(!g.Path2.prototype.addQuadraticCurveTo){g.Path2.prototype.addQuadraticCurveTo=function(n,t,e,r){var i=this.getPoints();var u=i[i.length-1];var f=new g.Vector3(u.x,u.y,0);var o=new g.Vector3(n,t,0);var a=new g.Vector3(e,r,0);var c=s;var l=g.Curve3.CreateQuadraticBezier(f,o,a,c);var v=l.getPoints();for(var h=1;h<v.length;h++){this.addLineTo(v[h].x,v[h].y)}}}if(!g.Path2.prototype.addCubicCurveTo){g.Path2.prototype.addCubicCurveTo=function(n,t,e,r,i,u){var f=this.getPoints();var o=f[f.length-1];var a=new g.Vector3(o.x,o.y,0);var c=new g.Vector3(n,t,0);var l=new g.Vector3(e,r,0);var v=new g.Vector3(i,u,0);var h=Math.floor(.3+s*1.5);var w=g.Curve3.CreateCubicBezier(a,c,l,v,h);var b=w.getPoints();for(var y=1;y<b.length;y++){this.addLineTo(b[y].x,b[y].y)}}}}}function _(n,t,e,r){return e(n[t])?n[t]:r}function q(n){n=n.replace("#","");return new g.Color3(t(n.substring(0,2)),t(n.substring(2,4)),t(n.substring(4,6)));function t(n){return v(1e3*Math.max(0,Math.min((H(parseInt(n,16))?parseInt(n,16):0)/255,1)))/1e3}}function z(n){return new g.Vector2(Z(n.x),Z(n.y))}function E(n){return n.length===1?n[0]:g.Mesh.MergeMeshes(n,true)}function G(n){return typeof n==="number"&&!isNaN(n)?0<n:false}function H(n){return typeof n==="number"}function U(n){return typeof n==="boolean"}function W(n){return typeof n==="number"&&!isNaN(n)?0<=n&&n<=1:false}function D(n){return n!=null&&typeof n==="object"||typeof n==="function"}function J(n){return n!=null&&typeof n==="object"&&n.constructor===Array}function K(n){return typeof n==="string"?n.length>0:false}function Q(n){return D(o[n])}function R(n){return n==="left"||n==="right"||n==="center"}function T(n){return n===3||n===5||n===7}function X(){return Math.floor(Math.random()*1e6)}function Z(n){return v(.3+n*1e6)/1e6}}))}]);
